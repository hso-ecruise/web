<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>E-Cruise UserSite</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
	

	</head>



	<body ng-app="webApp" ng-controller="Ctrl_Main" ng-cloak>
		<!--[if lte IE 8]>
			<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->
		<!--
		<!-- Add your site or application content here -->
		
		<!--[ausblenden for mom]>
		<div class="header">
			<div class="navbar navbar-default" role="navigation">
				<div class="container">
					<div class="navbar-header">

						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>

					</div>

					<div class="collapse navbar-collapse" id="js-navbar-collapse">		
						<ul class="nav navbar-nav">

							<li class="{{ bookingActive }}" ng-click="ChangeView('booking')"><a>Buchen</a></li>
							<li class="{{ manageActive }}" ng-click="ChangeView('manage')"><a>Buchungen verwalten</a></li>
							<li class="{{ profileActive }}" ng-click="ChangeView('profile')"><a>Profil bearbeiten</a></li>

						</ul>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Add your site or application content here -->
		
		<div class="header navbar" layout-align="center" layout="row">
		  <md-content class="md-padding" >
			<md-nav-bar md-selected-nav-item="currentNavItem" nav-bar-aria-label="navigation links" layout-align="center center">
			  <md-nav-item md-nav-click="ChangeView('booking')" name="booking">Buchen</md-nav-item >
			  <md-nav-item md-nav-click="ChangeView('manage')"  name="manage" >Buchungen verwalten</md-nav-item>
			  <md-nav-item md-nav-click="ChangeView('profile')" name="profile" >Profil bearbeiten</md-nav-item>
			</md-nav-bar>
		  </md-content>
		</div>
		
		<div class="container" ng-switch on="currentView">

			<div ng-controller="Ctrl_Booking">

				<div ng-switch-when="booking">

					<div id="map" class="map"></div>

					<script>
						/*
						var map;
						function initMap() {
							map = new google.maps.Map(document.getElementById('map'), {
								center: {lat: 49.48, lng: 8.47},
								zoom: 14
							});
						}
						*/
					</script>

					<!--
					<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCbY_MjWJ1cDjugF_MBHwnYDWFNJYAa4o&callback=initMap" async defer>
					</script>
					-->
				</div>

			</div>


			<div ng-switch-when="manage">

				<div ng-controller="Ctrl_Manage">

					<table>

						<thead>
							<tr>
								<td>
									<md-toolbar class="md-hue-2">
										<div class="md-toolbar-tools">
											<h2 class="md-flex">Ausstehende Fahrten</h2>
										</div>
									</md-toolbar>
								</td>
								<td>
									<b style="margin-left: 25px;"></b>
								</td>
								<td>
									<md-toolbar class="md-hue-2">
										<div class="md-toolbar-tools">
											<h2 class="md-flex">Abgeschlossene Fahrten</h2>
										</div>
									</md-toolbar>
								</td>
								<td>
									<b style="margin-left: 25px;"></b>
								</td>
								<td>
									<md-toolbar class="md-hue-2">
										<div class="md-toolbar-tools">
											<h2 class="md-flex">Rechnung</h2>
										</div>
									</md-toolbar>
								</td>
							</tr>
						</thead>


						<tr>
							<td>
								<table style="width: 300px;">
									
									<tr ng-repeat="booking in bookings track by $index">
										<td  ng-switch on="{{ booking.state }}">

											<md-content flex layout-padding class="md-block">	
									
												<label> Datum:  {{ booking.date }} </label>
												<br />
												<label> Fahrtbeginn:  {{ booking.startTime }} </label>
												<br />
												<label> Startort:  {{ booking.startPlace }} </label>
									
												<label  ng-switch-when="true">
													<md-button class="md-raised md-primary" ng-click="Safe()"> Auf Karte anzeigen </md-button>

												</label>

											</md-content>

											<br />

										</td>
									</tr>
						
								</table>
							</td>
							<td></td>
							<td>
								<table style="width: 300px;">


									<tr ng-repeat="booking in finishedBookings track by $index">
										<td  ng-switch on="{{ booking.state }}">

											<md-content flex layout-padding class="md-block">	
									
												<label> Datum:  {{ booking.date }} </label>
												<br />
												<label> Fahrtbeginn:  {{ booking.startTime }} </label>
												<label> {{ booking.startPlace }} </label>
												<br />
												<label> Fahrtende:  {{ booking.endTime }} </label>
												<label> {{ booking.endPlace }} </label>
												<br />
												<md-button class="md-raised md-primary" ng-click="ShowBilling($index)">Rechnung anzeigen</md-button>


											</md-content>

											<br />

										</td>
									</tr>
						
								</table>
							</td>
							<td></td>
							<td>

								<table style="width: 300px;">
									
									<tr>
										<td>
											<md-content flex layout-padding class="md-block">	
									
												<label> Datum:  {{ currentBooking.date }} </label>
												<br />
												<label> Fahrtbeginn:  {{ currentBooking.startTime }} </label>
												<label> Startpunkt:  {{ currentBooking.startPlace }} </label>
												<br />
												<label> Fahrtende:  {{ currentBooking.endTime }} </label>
												<label> Endpunkt:  {{ currentBooking.endPlace }} </label>
												<br />
												<label> Preis: {{ currentBooking.billing }}</label>
												<label> Rechnung: {{ currentBooking.payed }}</label>

											</md-content>
										</td>
									</tr>
						
								</table>

							</td>

						</tr>
					</table>


					

							

				</div>



			</div>



			<div ng-switch-when="profile" class="content">

				<div ng-controller="Ctrl_Profile" layout="column" ng-cloak class="md-inline-form">

					<md-toolbar class="md-hue-2">
						<div class="md-toolbar-tools">
							<h2 class="md-flex">Pers&ouml;nliche Daten</h2>
						</div>
					</md-toolbar>
					<md-content flex layout-padding class="">					
						<md-input-container class="md-block" flex-gt-xs>
							<label> Ihre Kundennummer:  {{ userID }} </label>
							<input disabled>
						</md-input-container>			
					
						<md-input-container>
							<label>Vorname</label>
							<input ng-model="user.name" placeholder="Max"/>
						</md-input-container>
					  
						<md-input-container>
							<label>Nachname</label>
							<input ng-model="user.familyName" placeholder="Mustermann"/>
						</md-input-container>
					</md-content>
					  
					<md-content flex layout-padding>	
						<md-input-container>
							<label>Email</label>
							<input ng-model="user.email" type="email" />
						</md-input-container>
						<md-input-container>
							<label>Telefon</label>
							<input ng-model="user.phone"/>
						</md-input-container>
					</md-content>
					
					<md-content flex layout-padding>	
						<md-input-container>
							<label>Strasse</label>
							<input ng-model="user.address.street" />
						</md-input-container>
						<md-input-container>
							<label>Hausnummer</label>
							<input ng-model="user.address.number" />
						</md-input-container>
					</md-content>
					<md-content flex layout-padding>	
						<md-input-container>
							<label>Land</label>
							<input ng-model="user.address.country" />
						</md-input-container>
						<md-input-container>
							<label>PLZ</label>
							<input ng-model="user.address.zip" />
						</md-input-container>
					</md-content>
					<!--TODO-->
					<md-content flex layout-padding>
						<md-input-container>
							<label>Stadt</label>
							<input ng-model="user.address.city" />
						<!--
							<md-select ng-model="user.address.state">
							  <md-option ng-repeat="state in states" value="{{user.address.state.abbrev}}">
								{{user.address.state.abbrev}}
							  </md-option>
							</md-select>
						-->
						</md-input-container>
					</md-content>	
					<md-content flex layout-padding>
					<md-button class="md-raised md-warn" ng-click="Cancel()"> Verwerfen </md-button>
					<md-button class="md-raised md-primary" ng-click="Safe()"> Speichern </md-button>
					</md-content>
					
				</div>
			</div>
	
		</div>
	
	
		<div class="footer">
			<div class="container">
				<p><span class="glyphicon glyphicon-heart"></span> from the E-Cruise Team</p>
			</div>
		</div>


		<!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
		
		<script>
			!function(A,n,g,u,l,a,r){A.GoogleAnalyticsObject=l,A[l]=A[l]||function(){
				(A[l].q=A[l].q||[]).push(arguments)},A[l].l=+new Date,a=n.createElement(g),
				r=n.getElementsByTagName(g)[0],a.src=u,r.parentNode.insertBefore(a,r)
			}(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-XXXXX-X');
			ga('send', 'pageview');
		</script>
		
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCbY_MjWJ1cDjugF_MBHwnYDWFNJYAa4o" async defer></script>

		<!-- build:js(.) scripts/vendor.js -->
		<!-- bower:js -->
		<script src="bower_components/jquery/dist/jquery.js"></script>
		<script src="bower_components/angular/angular.js"></script>
		<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
		<script src="bower_components/angular-animate/angular-animate.js"></script>
		<script src="bower_components/angular-aria/angular-aria.js"></script>
		<script src="bower_components/angular-cookies/angular-cookies.js"></script>
		<script src="bower_components/angular-messages/angular-messages.js"></script>
		<script src="bower_components/angular-resource/angular-resource.js"></script>
		<script src="bower_components/angular-route/angular-route.js"></script>
		<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
		<script src="bower_components/angular-touch/angular-touch.js"></script>
		<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
		<script src="bower_components/angular-material/angular-material.js"></script>
		<!-- endbower -->
		<!-- endbuild -->

		<!-- build:js({.tmp,app}) scripts/scripts.js -->
		<script src="scripts/app.js"></script>
		<script src="scripts/controllers/main.js"></script>
		<script src="scripts/controllers/about.js"></script>
		<script src="scripts/controllers/design.js"></script>
		<!-- endbuild -->
	</body>
</html>
