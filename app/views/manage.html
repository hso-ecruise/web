<div ng-cloak layout-gt-sm="row" layout="column" class="manage-flex-container">

    <div flex-gt-sm="25" flex class="content">
        <md-toolbar class="md-hue-2">
            <div class="md-toolbar-tools">
                <h2 class="md-flex">Ausstehende Fahrten</h2>
            </div>
        </md-toolbar>
        <md-content>
            <md-list flex>
                <!--  <md-subheader class="md-no-sticky"></md-subheader> -->
                <md-list-item class="md-3-line" ng-repeat="booking in open_bookings track by $index" ng-click="ShowOnMap(booking)" ng-switch="booking.onMap">
					
					<i class="material-icons md-avatar" style="color: #green; width:25px;" title="Auf Karte anzeigen" ng-switch-when="true">map</i>
					
					<i class="material-icons md-avatar" style="color: #green; width:25px;" title="Auf Karte anzeigen" ng-switch-when="false"></i>
					<div class="md-list-item-text" layout="column" ng-switch on="{{ booking.state }}">
						<h3>{{ booking.start.date }}  ab {{ booking.start.time }}</h3>
						<h4>Stra&szlig;e Nr.: {{ booking.start.address.street }} {{ booking.start.address.number }} </h4>
						<p>PLZ:  {{ booking.start.address.zip }}</p>
						<p>Stadt: {{ booking.start.address.city }}</p>

						<!-- Icon das 端ber ng-switch-when="true" angezeigt wird (Fahrzeug schon verf端gbar) -->

					</div>
                    <md-divider ></md-divider>
                </md-list-item>
            </md-list>
        </md-content>
    </div>

    <div flex-gt-sm="3" flex></div>

    <div flex-gt-sm="25" flex class="content">
        <md-toolbar class="md-hue-2">
            <div class="md-toolbar-tools">
                <h2 class="md-flex">Abgeschlossene Fahrten</h2>
            </div>
        </md-toolbar>
        <md-content>
            <md-list flex>
                <md-list-item class="md-3-line" ng-repeat="booking in done_bookings track by $index" ng-click="ShowBilling(booking.end.endDate)" ng-switch="booking.invoice.paid">
                    
                    <i ng-switch-when="true" class="material-icons md-avatar" style="color: #00ff00; width:25px;" aria-label="Rechnung bezahlt" >done</i>
                    <i ng-switch-when="false" class="material-icons md-avatar" style="color: #aa0000;">report_problem</i>              
                    
					<div class="md-list-item-text" layout="column" >

                        <h4>Start {{ booking.start.date }} um {{ booking.start.time }} </h4>
                        <p>von Stra&szlig;e : {{ booking.start.address.street }} {{ booking.start.address.number }}</p>
                        <h4>Ende {{ booking.end.date }} um {{ booking.end.time }} </h4>
                        <p>bis Stra&szlig;e Nr.: {{ booking.end.address.street }} {{ booking.end.address.number }}</p>

                        <!-- <p ng-switch-when="true" style="background: #00ff00">Rechnung: bezahlt</p>
                        <p ng-switch-when="false" style="background: #aa0000">Rechnung: nicht bezahlt</p>
                        -->
                        <!-- Feld oder Button in gr端n/rot der 端ber ng-switch-when="true/false" dargestellt wird (Rechnung bezahl oder nicht) -->

                        <!--
                        <h3>{{ booking.start.date }} </h3>
                        <h4>Fahrtbeginn:  {{ booking.start.time }}  {{ booking.start.address.street }}</h4>
                        <h4>Fahrtende:  {{ booking.endTime }}  {{ booking.endPlace }}</h4>
                        -->
                    </div>
                    <md-divider ></md-divider>
                </md-list-item>
            </md-list>
        </md-content>
    </div>

    <div flex-gt-sm="3" flex></div>

    <div flex-gt-sm="45" flex class="content">
        <md-toolbar class="md-hue-2">
            <div class="md-toolbar-tools">
                <h2 class="md-flex">Rechnung</h2>
            </div>
        </md-toolbar>

        <div class="md-list-item-text" layout="column" ng-switch="currentBill.active">
            <md-content flex layout-padding class="md-block" ng-switch-when="true">
                <label> Rechnung f&uuml;r:  {{currentBill.date.month }}.{{currentBill.date.year }} RechnungsID: {{ currentBill.invoiceID }}</label>
                <br />
				<label> Preis insgesamt:  {{currentBill.totalAmount }} Status: {{currentBill.paidText}} </label>
                <br />
                <md-list flex>
                    <md-list-item class="md-3-line" ng-repeat="item in currentBill.items track by $index">
                        <div class="md-list-item-text" layout="column" ng-switch="item.hasBooking">
							
                            <h4>Preis: {{ item.amount }}</h4>
                            <p>Grund: {{ item.reason }}</p>
							
							<div ng-switch-when="true">
								<BLOCKQUOTE>
									<p> Fahrtbeginn am {{item.booking.start.date }} um {{item.booking.start.time }} </p>
									<p> Startpunkt:  {{item.booking.start.address.street }} {{item.booking.start.address.number }} </p>
									<p> Fahrtende am {{item.booking.end.date }} um {{item.booking.end.time }} </p>
									<p> Endpunkt:  {{item.booking.end.address.street }} {{item.booking.end.address.number }} </p>
								</BLOCKQUOTE>
							</div>
							
                        </div>
                        <md-divider ></md-divider>
                    </md-list-item>
                </md-list>
            </md-content>
			
			<md-content flex layout-padding class="md-block" ng-switch-when="false">
                <label> Fehler beim Herunterladen der Rechnungsinformationen von Monat: {{currentBill.date.month }}.{{currentBill.date.year }} </label>
            </md-content>
        </div>
    </div>
	
</div>
